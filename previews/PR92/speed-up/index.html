<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Speed up Solvers Tips · JSOSuite.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/style.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="JSOSuite.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">JSOSuite.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../tutorial/">Tutorial</a></li><li><a class="tocitem" href="../nls/">Nonlinear Least Squares</a></li><li><a class="tocitem" href="../qp/">Quadratic models with linear constraints</a></li><li><a class="tocitem" href="../benchmark/">Benchmarking</a></li><li class="is-active"><a class="tocitem" href>Speed up Solvers Tips</a><ul class="internal"><li><a class="tocitem" href="#Derivatives"><span>Derivatives</span></a></li><li><a class="tocitem" href="#Find-a-better-initial-guess"><span>Find a better initial guess</span></a></li><li><a class="tocitem" href="#Use-the-structure-of-the-problem"><span>Use the structure of the problem</span></a></li><li><a class="tocitem" href="#Change-the-parameters-of-the-solver"><span>Change the parameters of the solver</span></a></li></ul></li><li><a class="tocitem" href="../reference/">Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Speed up Solvers Tips</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Speed up Solvers Tips</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaSmoothOptimizers/JSOSuite.jl/blob/main/docs/src/speed-up.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="speed-up"><a class="docs-heading-anchor" href="#speed-up">Speed up Solvers Tips</a><a id="speed-up-1"></a><a class="docs-heading-anchor-permalink" href="#speed-up" title="Permalink"></a></h1><p>The following contains a list of tips to speed up the solver selection and usage.</p><h2 id="Derivatives"><a class="docs-heading-anchor" href="#Derivatives">Derivatives</a><a id="Derivatives-1"></a><a class="docs-heading-anchor-permalink" href="#Derivatives" title="Permalink"></a></h2><p>The solvers available in <code>JSOSuite.jl</code> are all using first and sometines second-order derivatives. There are mainly three categories:</p><ul><li>1st order methods use only gradient information;</li><li>1st order quasi-Newton methods require only gradient information, and uses it to build an approximation of the Hessian;</li><li>2nd order methods: Those are using gradients and Hessian information.</li><li>2nd order methods matrix-free: Those are solvers using Hessian information, but without ever forming the matrix, so only matrix-vector products are computed.</li></ul><p>The latter is usually a good tradeoff for very large problems.</p><pre><code class="language-julia hljs">using JSOSuite
f = x -&gt; 100 * (x[2] - x[1]^2)^2 + (x[1] - 1)^2
x0 = [-1.2; 1.0]
stats = solve(f, x0, verbose = 0, highest_derivative_available = 1)
stats</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;Execution stats: first-order stationary&quot;</code></pre><h2 id="Find-a-better-initial-guess"><a class="docs-heading-anchor" href="#Find-a-better-initial-guess">Find a better initial guess</a><a id="Find-a-better-initial-guess-1"></a><a class="docs-heading-anchor-permalink" href="#Find-a-better-initial-guess" title="Permalink"></a></h2><p>The majority of derivative-based solvers are local methods whose performance are dependent of the initial guess.  This usually relies on specific knowledge of the problem.</p><p>The function <a href="../reference/#JSOSuite.feasible_point"><code>feasible_point</code></a> computes a point satisfying the constraints of the problem that can be used as an initial guess.  An alternative is to solve a simpler version of the problem and reuse the solution as an initial guess for the more complex one.</p><h2 id="Use-the-structure-of-the-problem"><a class="docs-heading-anchor" href="#Use-the-structure-of-the-problem">Use the structure of the problem</a><a id="Use-the-structure-of-the-problem-1"></a><a class="docs-heading-anchor-permalink" href="#Use-the-structure-of-the-problem" title="Permalink"></a></h2><p>If the problem has linear constraints, then it is efficient to specify it at the modeling stage to avoid having them treated like nonlinear ones. Some of the solvers will also exploit this information.</p><p>Similarly, quadratic objective or least squares problems have tailored modeling tools and solvers.</p><h2 id="Change-the-parameters-of-the-solver"><a class="docs-heading-anchor" href="#Change-the-parameters-of-the-solver">Change the parameters of the solver</a><a id="Change-the-parameters-of-the-solver-1"></a><a class="docs-heading-anchor-permalink" href="#Change-the-parameters-of-the-solver" title="Permalink"></a></h2><p>Once a solver has been chosen it is also possible to play with the key parameters. Find below a list of the available solvers and parameters.</p><p>Note that all solvers presented here have been carefully optimized. All have different strengths. Trying another solver on the same problem sometimes provide a different solution.</p><h3 id="Unconstrained/Bound-constrained"><a class="docs-heading-anchor" href="#Unconstrained/Bound-constrained">Unconstrained/Bound-constrained</a><a id="Unconstrained/Bound-constrained-1"></a><a class="docs-heading-anchor-permalink" href="#Unconstrained/Bound-constrained" title="Permalink"></a></h3><h5 id="LBFGS"><a class="docs-heading-anchor" href="#LBFGS">LBFGS</a><a id="LBFGS-1"></a><a class="docs-heading-anchor-permalink" href="#LBFGS" title="Permalink"></a></h5><ul><li><code>mem::Int = 5</code>: memory parameter of the <code>lbfgs</code> algorithm;</li><li><code>τ₁::T = T(0.9999)</code>: slope factor in the Wolfe condition when performing the line search;</li><li><code>bk_max:: Int = 25</code>: maximum number of backtracks when performing the line search.</li></ul><h5 id="TRON"><a class="docs-heading-anchor" href="#TRON">TRON</a><a id="TRON-1"></a><a class="docs-heading-anchor-permalink" href="#TRON" title="Permalink"></a></h5><ul><li><code>μ₀::T = T(1e-2)</code>: algorithm parameter in (0, 0.5);</li><li><code>μ₁::T = one(T)</code>: algorithm parameter in (0, +∞);</li><li><code>σ::T = T(10)</code>: algorithm parameter in (1, +∞);</li><li><code>max_cgiter::Int = 50</code>: subproblem&#39;s iteration limit;</li><li><code>cgtol::T = T(0.1)</code>: subproblem tolerance.</li></ul><h5 id="TRUNK"><a class="docs-heading-anchor" href="#TRUNK">TRUNK</a><a id="TRUNK-1"></a><a class="docs-heading-anchor-permalink" href="#TRUNK" title="Permalink"></a></h5><p>TODO</p><h5 id="R2"><a class="docs-heading-anchor" href="#R2">R2</a><a id="R2-1"></a><a class="docs-heading-anchor-permalink" href="#R2" title="Permalink"></a></h5><ul><li><code>η1 = eps(T)^(1/4)</code>, <code>η2 = T(0.95)</code>: step acceptance parameters;</li><li><code>γ1 = T(1/2)</code>, <code>γ2 = 1/γ1</code>: regularization update parameters;</li><li><code>σmin = eps(T)</code>: step parameter for R2 algorithm;</li><li><code>β = T(0) ∈ [0,1]</code> is the constant in the momentum term. If <code>β == 0</code>, R2 does not use momentum.</li></ul><h3 id="Constrained"><a class="docs-heading-anchor" href="#Constrained">Constrained</a><a id="Constrained-1"></a><a class="docs-heading-anchor-permalink" href="#Constrained" title="Permalink"></a></h3><h5 id="Percival"><a class="docs-heading-anchor" href="#Percival">Percival</a><a id="Percival-1"></a><a class="docs-heading-anchor-permalink" href="#Percival" title="Permalink"></a></h5><ul><li><code>μ::Real = T(10.0)</code>: Starting value of the penalty parameter.</li></ul><h5 id="CaNNOLeS"><a class="docs-heading-anchor" href="#CaNNOLeS">CaNNOLeS</a><a id="CaNNOLeS-1"></a><a class="docs-heading-anchor-permalink" href="#CaNNOLeS" title="Permalink"></a></h5><ul><li><code>linsolve::Symbol = :ma57</code>: solver to compute LDLt factorization. Available methods are: <code>:ma57</code>, <code>:ldlfactorizations</code>;</li><li><code>method::Symbol = :Newton</code>: available methods <code>:Newton, :LM, :Newton_noFHess</code>, and <code>:Newton_vanishing</code>;</li></ul><p>See <a href="https://juliasmoothoptimizers.github.io/CaNNOLeS.jl/dev/tutorial/">CaNNOLeS.jl tutorial</a>.</p><h5 id="DCISolver"><a class="docs-heading-anchor" href="#DCISolver">DCISolver</a><a id="DCISolver-1"></a><a class="docs-heading-anchor-permalink" href="#DCISolver" title="Permalink"></a></h5><ul><li><code>linear_solver = :ldlfact</code>: Solver for the factorization. options: <code>:ma57</code> if <code>HSL.jl</code> available.</li></ul><p>See <a href="https://juliasmoothoptimizers.github.io/DCISolver.jl/dev/fine-tuneDCI/"><code>fine-tuneDCI</code></a>.</p><h5 id="RipQP"><a class="docs-heading-anchor" href="#RipQP">RipQP</a><a id="RipQP-1"></a><a class="docs-heading-anchor-permalink" href="#RipQP" title="Permalink"></a></h5><p>TODO</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../benchmark/">« Benchmarking</a><a class="docs-footer-nextpage" href="../reference/">Reference »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Wednesday 17 May 2023 02:00">Wednesday 17 May 2023</span>. Using Julia version 1.9.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
