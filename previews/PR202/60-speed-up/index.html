<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Speed Up · JSOSuite.jl</title><meta name="title" content="Speed Up · JSOSuite.jl"/><meta property="og:title" content="Speed Up · JSOSuite.jl"/><meta property="twitter:title" content="Speed Up · JSOSuite.jl"/><meta name="description" content="Documentation for JSOSuite.jl."/><meta property="og:description" content="Documentation for JSOSuite.jl."/><meta property="twitter:description" content="Documentation for JSOSuite.jl."/><meta property="og:url" content="https://JuliaSmoothOptimizers.github.io/JSOSuite.jl/60-speed-up/"/><meta property="twitter:url" content="https://JuliaSmoothOptimizers.github.io/JSOSuite.jl/60-speed-up/"/><link rel="canonical" href="https://JuliaSmoothOptimizers.github.io/JSOSuite.jl/60-speed-up/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/style.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="JSOSuite.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">JSOSuite.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../10-tutorial/">Tutorial</a></li><li><a class="tocitem" href="../20-nonlinear-least-squares/">Nonlinear Least Squares</a></li><li><a class="tocitem" href="../30-qp/">Qp</a></li><li><a class="tocitem" href="../40-resolve/">Resolve</a></li><li><a class="tocitem" href="../50-benchmark/">Benchmark</a></li><li class="is-active"><a class="tocitem" href>Speed Up</a><ul class="internal"><li><a class="tocitem" href="#Derivatives"><span>Derivatives</span></a></li><li><a class="tocitem" href="#Find-a-better-initial-guess"><span>Find a better initial guess</span></a></li><li><a class="tocitem" href="#Use-the-structure-of-the-problem"><span>Use the structure of the problem</span></a></li><li><a class="tocitem" href="#Change-the-parameters-of-the-solver"><span>Change the parameters of the solver</span></a></li></ul></li><li><a class="tocitem" href="../90-contributing/">Contributing</a></li><li><a class="tocitem" href="../91-developer/">Developer docs</a></li><li><a class="tocitem" href="../95-reference/">Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Speed Up</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Speed Up</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaSmoothOptimizers/JSOSuite.jl/blob/main/docs/src/60-speed-up.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="speed-up"><a class="docs-heading-anchor" href="#speed-up">Speed up Solvers Tips</a><a id="speed-up-1"></a><a class="docs-heading-anchor-permalink" href="#speed-up" title="Permalink"></a></h1><p>The following contains a list of tips to speed up the solver selection and usage.</p><h2 id="Derivatives"><a class="docs-heading-anchor" href="#Derivatives">Derivatives</a><a id="Derivatives-1"></a><a class="docs-heading-anchor-permalink" href="#Derivatives" title="Permalink"></a></h2><p>The optimizers available in <code>JSOSuite.jl</code> are all using first and sometines second-order derivatives. There are mainly three categories:</p><ul><li>1st order methods use only gradient information;</li><li>1st order quasi-Newton methods require only gradient information, and uses it to build an approximation of the Hessian;</li><li>2nd order methods: Those are using gradients and Hessian information.</li><li>2nd order methods matrix-free: Those are optimizers using Hessian information, but without ever forming the matrix, so only matrix-vector products are computed.</li></ul><p>The latter is usually a good tradeoff for very large problems.</p><pre><code class="language-julia hljs">using JSOSuite
f = x -&gt; 100 * (x[2] - x[1]^2)^2 + (x[1] - 1)^2
x0 = [-1.2; 1.0]
stats = minimize(f, x0, verbose = 0, highest_derivative_available = 1)
stats</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">&quot;Execution stats: first-order stationary&quot;</code></pre><p>This classification is straightforwardly extended to handling constraints with the Jacobian matrix explicitly of via matrix-vector products.</p><h2 id="Find-a-better-initial-guess"><a class="docs-heading-anchor" href="#Find-a-better-initial-guess">Find a better initial guess</a><a id="Find-a-better-initial-guess-1"></a><a class="docs-heading-anchor-permalink" href="#Find-a-better-initial-guess" title="Permalink"></a></h2><p>The majority of derivative-based optimizers are local methods whose performance are dependent of the initial guess. This usually relies on specific knowledge of the problem.</p><p>The function <a href="../95-reference/#JSOSuite.feasible_point"><code>feasible_point</code></a> computes a point satisfying the constraints of the problem that can be used as an initial guess. An alternative is to solve a simpler version of the problem and reuse the solution as an initial guess for the more complex one.</p><h2 id="Use-the-structure-of-the-problem"><a class="docs-heading-anchor" href="#Use-the-structure-of-the-problem">Use the structure of the problem</a><a id="Use-the-structure-of-the-problem-1"></a><a class="docs-heading-anchor-permalink" href="#Use-the-structure-of-the-problem" title="Permalink"></a></h2><p>If the problem has linear constraints, then it is efficient to specify it at the modeling stage to avoid having them treated like nonlinear ones. Some of the optimizers will also exploit this information.</p><p>Similarly, quadratic objective or least squares problems have tailored modeling tools and optimizers.</p><h2 id="Change-the-parameters-of-the-solver"><a class="docs-heading-anchor" href="#Change-the-parameters-of-the-solver">Change the parameters of the solver</a><a id="Change-the-parameters-of-the-solver-1"></a><a class="docs-heading-anchor-permalink" href="#Change-the-parameters-of-the-solver" title="Permalink"></a></h2><p>Once a solver has been chosen it is also possible to play with the key parameters. Find below a list of the available optimizers and parameters.</p><p>Note that all optimizers presented here have been carefully optimized. All have different strengths. Trying another solver on the same problem sometimes provide a different solution.</p><h3 id="Unconstrained"><a class="docs-heading-anchor" href="#Unconstrained">Unconstrained</a><a id="Unconstrained-1"></a><a class="docs-heading-anchor-permalink" href="#Unconstrained" title="Permalink"></a></h3><h4 id="LBFGS-(1st-order)"><a class="docs-heading-anchor" href="#LBFGS-(1st-order)">LBFGS (1st order)</a><a id="LBFGS-(1st-order)-1"></a><a class="docs-heading-anchor-permalink" href="#LBFGS-(1st-order)" title="Permalink"></a></h4><ul><li><code>mem::Int = 5</code>: memory parameter of the <code>lbfgs</code> algorithm;</li><li><code>τ₁::T = T(0.9999)</code>: slope factor in the Wolfe condition when performing the line search;</li><li><code>bk_max:: Int = 25</code>: maximum number of backtracks when performing the line search.</li></ul><h4 id="R2-(1st-order)"><a class="docs-heading-anchor" href="#R2-(1st-order)">R2 (1st order)</a><a id="R2-(1st-order)-1"></a><a class="docs-heading-anchor-permalink" href="#R2-(1st-order)" title="Permalink"></a></h4><ul><li><code>η1 = eps(T)^(1/4)</code>, <code>η2 = T(0.95)</code>: step acceptance parameters;</li><li><code>γ1 = T(1/2)</code>, <code>γ2 = 1/γ1</code>: regularization update parameters;</li><li><code>σmin = eps(T)</code>: step parameter for R2 algorithm;</li><li><code>β = T(0) ∈ [0,1]</code> is the constant in the momentum term. If <code>β == 0</code>, R2 does not use momentum.</li></ul><h4 id="TRUNK-(matrix-free)"><a class="docs-heading-anchor" href="#TRUNK-(matrix-free)">TRUNK (matrix-free)</a><a id="TRUNK-(matrix-free)-1"></a><a class="docs-heading-anchor-permalink" href="#TRUNK-(matrix-free)" title="Permalink"></a></h4><ul><li><code>bk_max::Int = 10</code>: algorithm parameter;</li><li><code>monotone::Bool = true</code>: algorithm parameter;</li><li><code>nm_itmax::Int = 25</code>: algorithm parameter.</li></ul><h3 id="Bound-constrained-(matrix-free)"><a class="docs-heading-anchor" href="#Bound-constrained-(matrix-free)">Bound-constrained (matrix-free)</a><a id="Bound-constrained-(matrix-free)-1"></a><a class="docs-heading-anchor-permalink" href="#Bound-constrained-(matrix-free)" title="Permalink"></a></h3><h4 id="TRON"><a class="docs-heading-anchor" href="#TRON">TRON</a><a id="TRON-1"></a><a class="docs-heading-anchor-permalink" href="#TRON" title="Permalink"></a></h4><ul><li><code>μ₀::T = T(1e-2)</code>: algorithm parameter in (0, 0.5);</li><li><code>μ₁::T = one(T)</code>: algorithm parameter in (0, +∞);</li><li><code>σ::T = T(10)</code>: algorithm parameter in (1, +∞);</li><li><code>max_cgiter::Int = 50</code>: subproblem&#39;s iteration limit;</li><li><code>cgtol::T = T(0.1)</code>: subproblem tolerance.</li></ul><h3 id="Constrained"><a class="docs-heading-anchor" href="#Constrained">Constrained</a><a id="Constrained-1"></a><a class="docs-heading-anchor-permalink" href="#Constrained" title="Permalink"></a></h3><h4 id="RipQP-(quadratic-with-linear-constraints)"><a class="docs-heading-anchor" href="#RipQP-(quadratic-with-linear-constraints)">RipQP (quadratic with linear constraints)</a><a id="RipQP-(quadratic-with-linear-constraints)-1"></a><a class="docs-heading-anchor-permalink" href="#RipQP-(quadratic-with-linear-constraints)" title="Permalink"></a></h4><p>See <a href="https://jso.dev/tutorials/introduction-to-ripqp/">RipQP.jl tutorial</a> and <a href="https://jso.dev/RipQP.jl/stable/API/">RipQP.jl API</a>.</p><h4 id="CaNNOLeS-(NLS-with-nonlinear-equality-constraints)"><a class="docs-heading-anchor" href="#CaNNOLeS-(NLS-with-nonlinear-equality-constraints)">CaNNOLeS (NLS with nonlinear equality constraints)</a><a id="CaNNOLeS-(NLS-with-nonlinear-equality-constraints)-1"></a><a class="docs-heading-anchor-permalink" href="#CaNNOLeS-(NLS-with-nonlinear-equality-constraints)" title="Permalink"></a></h4><ul><li><code>linsolve::Symbol = :ma57</code>: solver to compute LDLt factorization. Available methods are: <code>:ma57</code>, <code>:ldlfactorizations</code>;</li><li><code>method::Symbol = :Newton</code>: available methods <code>:Newton, :LM, :Newton_noFHess</code>, and <code>:Newton_vanishing</code>;</li></ul><p>See <a href="https://jso.dev/CaNNOLeS.jl/dev/tutorial/">CaNNOLeS.jl tutorial</a>.</p><h4 id="DCISolver-(nonlinear-equality-constraints)"><a class="docs-heading-anchor" href="#DCISolver-(nonlinear-equality-constraints)">DCISolver (nonlinear equality constraints)</a><a id="DCISolver-(nonlinear-equality-constraints)-1"></a><a class="docs-heading-anchor-permalink" href="#DCISolver-(nonlinear-equality-constraints)" title="Permalink"></a></h4><ul><li><code>linear_solver = :ldlfact</code>: Solver for the factorization. options: <code>:ma57</code> if <code>HSL.jl</code> available.</li></ul><p>See the <a href="https://jso.dev/DCISolver.jl/dev/fine-tuneDCI/"><code>fine-tuneDCI tutorial</code></a>.</p><h4 id="FletcherPenaltySolver-(nonlinear-equality-constraints)"><a class="docs-heading-anchor" href="#FletcherPenaltySolver-(nonlinear-equality-constraints)">FletcherPenaltySolver (nonlinear equality constraints)</a><a id="FletcherPenaltySolver-(nonlinear-equality-constraints)-1"></a><a class="docs-heading-anchor-permalink" href="#FletcherPenaltySolver-(nonlinear-equality-constraints)" title="Permalink"></a></h4><p>See the <a href="https://jso.dev/FletcherPenaltySolver.jl/dev/fine-tuneFPS/"><code>fine-tuneFPS tutorial</code></a>.</p><h4 id="Percival"><a class="docs-heading-anchor" href="#Percival">Percival</a><a id="Percival-1"></a><a class="docs-heading-anchor-permalink" href="#Percival" title="Permalink"></a></h4><ul><li><code>μ::Real = T(10.0)</code>: Starting value of the penalty parameter.</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../50-benchmark/">« Benchmark</a><a class="docs-footer-nextpage" href="../90-contributing/">Contributing »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.0 on <span class="colophon-date" title="Tuesday 1 April 2025 00:12">Tuesday 1 April 2025</span>. Using Julia version 1.11.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
